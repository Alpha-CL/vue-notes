#

## custom command

#### directive

``` javascript
///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////


/**
 * directive            // 自定义指令
 * 
 * 
 * 
 */


1) 全局注册

2) 局部注册


//-------------------------------------------------------------------------------------------------------------------//


// 全局注册

Vue.directive(name: string, config: object);


//- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -//


// 局部注册


const vm = new Vue({

    ...

    directive: {
    
        [name]: {
        
            // config
        }
    }
    ...
    
});


///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
```

#### hooks

``` javascript
///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////


// hooks

bind                    // 仅在第一次绑定到元素时触发一次

inserted                // 被插入到父节点时触发

update                  // 组件的 VNode 更新时调用


componentUpdated        // 指令所在组件的 VNode 及其子 VNode 全部更新后调用

unbind                  // 仅在元素解绑时调用触发一次


//-------------------------------------------------------------------------------------------------------------------//


/**
 * [hook](el: real-dom, binding: object, vnode, oldvnode).[mod]
 * 
 * 
 * @el: 指定所绑定的 真实dom
 * 
 * @binding:
 * 
 *      name            // v- 后算作指令名称
 *      value           // 指令后 JS 表达式 返回的值
 *      arg             // eg v-on:click="", click 为指令参数
 *      modfires        // 指令修饰符
 * 
 *      oldValue        // 指令绑定的上一个值( 仅在 update & componentUpdated 中可用 )
 *      expression      // 指令 后的JS表达式
 */


                    <div v-customcommand:arguments.mod1.mod2="express:res">
                           |------------|---------|--------|  |----------|
                                 |           |         |            |
                                 |           |         |            |
                                 |           |         |            |
                                 |           |         |            |
                                 |           |         |            |
                                 |           |         |            |
binding: {                       |           |         |            |
                                 |           |         |            |
    name: 'customcommand', <---- +           |         |            |
                                             |         |            |
    value: [res], <------------------------- + ------- + ---------- +                           
                                             |         |            |
    arg: 'arguments', <--------------------- +         |            |
                                                       |            |
    modfires: { <------------------------------------- +            |
                                                                    |
        mod1: true,                                                 |
        mod2: true,                                                 |
    },                                                              |
                                                                    |
    expression: [express], <--------------------------------------- +
    
    oldValue: [nextvalue],
}


///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
```

#### 

``` javascript
///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////


// 可简写

export default {

	bind(el, binding) {

	},
	update(el, binding) {

	}
}


//- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -//


// 简写为

export default function (el, binding) {

	
};


///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
```

## component mixin

#### mixin

``` javascript
///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////


/**
 * 组件混入
 * 
 * 
 * - 局部混入           // 常规使用
 * 
 * - 全局混入
 */


1) 混入对象的钩子将在组件自身钩子之前调用

2) 混入对象含有同名发生冲突时以 组件数据优先

3) 全局混入会影响每一个之后创建的 Vue 实例


//-------------------------------------------------------------------------------------------------------------------//


// myMixin: string;


myMixin: {

    data: ()=>{},
    methods: {},
    computed: {}
    
    ...
};


//- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -//


// component


conse vm = new Vue({
    
    mixins: [mymixin],
    
    ...
});


//-------------------------------------------------------------------------------------------------------------------//


// myMixin: () => {};                   // 可 接收参数


myMixin: function(param) {

    data: ()=>{},
    methods: {},
    computed: {}
    
    ...
};


//- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -//


// component


conse vm = new Vue({
    
    mixins: [mymixin(param)],
    
    ...
});


///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
```






