# vue component

#### introduction

``` javascript
///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////


/**
 * component
 * 
 * 
 * 
 */

1) 降低代码复杂度，提升代码可读性和可维护性

2) 提升局部代码的可复用性


//- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -//
7

// component


1) 功能: js代码

2) 内容: vue模版代码

3) 样式: css/sass


///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
```

#### VueComp vs CustomComp

``` javascript
///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////


/**
 * new Vue(config);
 * 
 * 
 * 本质上也是一个组件                // 组件的本质是对象
 */


1) 有指定的挂载的 真实dom节点

    - config.el

2) data: object;

    - config: {
    
        data: {}
    }


//- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -//


const vm = new Vue({

    el: '#app',
    data: {
    
    }
});


//-------------------------------------------------------------------------------------------------------------------//


/**
 * golbal/local comp
 * 
 * 
 * 
 */

1) 无指定的挂载节点            // 组件的 虚拟dom 必须定义在 template 或 render() 中

2) data: () => {};          // 利用闭包，创建属于该组件的 data


//- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -//


const CustomComp = {

    data () {
    
        return {};
    }
};

Vue.compoent('CustomComp', CustomComp);


///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
```

#### namespace

``` javascript
///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////


/**
 * 命名空间
 *
 *
 * 无法直接在 html 中调用, html 会将所有字母变为小写
 * 可通过 '连字符分割大驼峰命名调用'
 * 或在 vm.components 中作为 key( 必须是字符串 ) 直接调用
 */


1) CamelCase            // 大驼峰命名( 建议使用 )

2) 'camel-case'         // 连字符分隔命名


///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
```

## create component

#### global comp

``` javascript
///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////


/**
 * global component         // 全局组件
 *
 *
 ** 全局组件可以在工程中任意地方引用
 */


Vue.component('GlobalComp', { ... });


///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
```

#### local comp

``` javascript
///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////


/**
 * local component              // 局部组件
 *
 *
 ** 局部组件仅可在当前组件中引用
 */


new Vue({
	components: {
		LocalComp: {
		    ...
		}
	}
});


///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
```

### comp props

#### unidirectional data flow

``` javascript
///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////


/**
 * 单向数据流            // 所有的 prop 都是其父子 prop 之间形成了一个 "单向下行绑定"
 *
 *
 * 父组件的 prop 的更新，属性会向下流动到 子组件 中，但是反之则不行
 *
 * 防止从子组件意外改变父级组件的状态，从而导致应用的数据流向难以理解
 */


///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
```

#### namespace

``` javascript
///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////


/**
 * namespace
 * 
 * 
 * HTML 中的特性名是大小写不敏感的
 * 浏览器会把所有大写字符编译为为小写字符
 * 
 * camelCase === ['camel-case']
 */


<CustomComp custom-prop="this is custom property"/>


Vue.component('CustomComp', {

    props: [
        ['customProp']
    ],
    template: '<div>{{customProp}}</div>'
});


//-------------------------------------------------------------------------------------------------------------------//


/**
 * property( 属性 ) vs attribute( 特性 )
 * 
 * 
 * tips
 */


property: 特性由 html 定义，所有出现在 html 标签内的描述节点都是 attribute

attribute: 属性属于 dom对象，dom实质 就是 javascript 中的对象


///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
```

#### prop type

``` javascript
///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////


/**
 * 约束传入属性的类型
 * 
 * 
 * props: string[] | object | object{};
 */


//- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -//


1) props: string[];                     // 仅接收属性


props: ['title', 'content', 'page'];


//- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -//


2) props: object;                       // 属性的基本验证


props: {

    title: String,
    content: String,
    page: Number
}


//- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -//


3) props: object{};                     // 属性的高级验证


props: {
    prop: {
        type: any,              // 类型
        required: boolean,      // 是否必须传递
        default: any,           // 默认值
        validator () {          // 自定义过滤器
        }
    }
}


///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
```