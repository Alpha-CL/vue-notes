# hooks

#### vue lifecycle

``` javascript
///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////


                      + ------------------------- +
                      |                           |
                      |         new Vue();        |
                      |                           |
                      + ------------------------- +
                                    |
                                    |
                          init Events & Lifecycle                           // 初始化生命周期及事件
                                    |
                                    |
    beforeCreate <------------------|
                                    |
                                    |
                         init jections & reactivity                         // 初始化 数据 注入 及 反射
                                    |
                                    |
    created <-----------------------|
                                    |
                                    |
            + ------------------ create VNode --------------------- +       
            |                                                       |
            |                                                       |
            |       if (el option) {                                |       // 先判断 config.el/vm.$el ( 真实的挂载节点 )
            |                                                       |
            |       } else if (vm.$mount(el)) {                     |
            |                                                       |
            |       }                                               |
            |                                                       |
            |                                                       |
            |       if (template options) {                         |       // 再调用 render(); 创建 vnode
            |                                                       |
            |           // complie template info render functtion   |
            |                                                       |
            |       } else {                                        |
            |                                                       |
            |           // compile el's outerHTML as template*      |
            |       }                                               |
            |                                                       |
            |                                                       |
            + ----------------------------------------------------- +
                                    |
                                    |
    beforeMount <-------------------|
                                    |
                                    |
                     create vm.$el and replace 'el' with it                 // 创建挂载vmIns 的挂载节点 
                                    |
                                    |
    mounted <-----------------------|
                                    |
                                    |
                        + --------- +
                        |
                        |                
                        |      + <----- when data changes ----- +
                        |      |                                |
                        |      |                                |
            + ------------------------- +                       |-------------------------------> beforeUpdate
            |                           |                       |
            |                           |                       |
            |         Mounted           |           virtual Dom re-render and patch
            |                           |                       |
            |                           |                       |
            + ------------------------- +                       |   
                        |                                       |-------------------------------> updated
                        |                                       |
                        |                                       |
                        + --------- when data changes --------> +
                                    |
                                    |
                                    |
                        when vm.$destroy is called                          // 调用 vm.$destroy();
                                    |
                                    |
                                    |
    beforeDestroy <-----------------|
                                    |
                                    |
          Teardown watchers, child components and event listnters           // 移除 监听器, 子组件及事件监听
                                    |
                                    |
                      + ------------------------- +
                      |                           |
    destroyed <-------|         Destroyed         |
                      |                           |
                      + ------------------------- +


///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
```

#### info

``` javascript
///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////


/**
 * beforeCreate
 *
 *
 * 无法监听: this.msg, this.methodHandle
 *
 * 可用监听:
 *
 *
 * 在实例初始化之后，数据观测 "data-observer, event, watcher" 事件配置之前被调用
 */


//- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -//


/**
 * created                      // ajax 请求，可立即使用 data
 *
 *
 * 在实例创建完成后被立即调用
 *
 *
 * 无法监听: this.$el
 *
 * 可用监听: this.msg, this.methodHandle, this.watchHandle
 *
 *
 * 已完成以下的配置: 数据观测 (data observer)，属性和方法的运算，watch/event 事件回调
 * 如果要在第一时间调用 methods 中的方法，或者操作 data 中的数据，可在此钩子中进行操作
 * 需注意执行此钩子时，挂载阶段还未开始，$el 属性目前不可见
 *
 * 此时，可以进行数据请求，将请求回来的值赋值给data中的数据
 */


//- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -//


/**
 * beforeMount
 *
 *
 * 无法监听: this.$el( old: waiting for replacement )
 *
 * 可用监听:
 *
 *
 * 在挂载开始之前被调用，此时模板已经编译完成，只是未将生成的模板替换el对应的元素
 * 在此钩子函数中，可以获取到模板最初始的状态
 * 可以拿到vm.$el，只不过为旧模板
 */


//- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -//


/**
 * mounted                  // ajax 请求，可立即使用 data 并操作 dom
 *
 *
 * 无法监听:
 *
 * 可用监听: this.$el( new: replaced )
 *
 *
 * el 被新创建的 vm.$el 替换，并挂载到实例上去之后调用该钩子
 * 在该钩子函数中的vm.$el为新模板, 执行完该钩子函数后，代表实例已经被完全创建好
 * 如果要在第一时间，操作页面上的dom节点时，可以在此钩子函数中操作
 */


//- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -//


/**
 * beforeUpdate
 *
 *
 * 无法监听: DOM
 *
 * 可用监听: data
 *
 *
 * 数据更新时调用，发生在虚拟 DOM 打补丁之前
 * 此时数据已经更新，但是DOM还未更新
 */


//- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -//


/**
 * updated
 *
 *
 * 无法监听:
 *
 * 可用监听: DOM, data
 *
 *
 * 数据更改导致DOM重新渲染后，会执行该钩子函数
 *
 * 此时 数据 和 dom 同步
 */


//- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -//


/**
 * beforeDestroy                    // 用于解绑 定时器等
 *
 *
 * 实例销毁之前调用。在这一步，实例仍然完全可用
 * 可以在该钩子函数中，清除定时器
 */


//- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -//


/**
 * destroyed
 * 
 * 
 * Vue 实例销毁后调用
 * 调用后，Vue 实例指示的所有东西都会解绑定，所有的事件监听器会被移除
 */


///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
```